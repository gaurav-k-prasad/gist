{
  "version": "8",
  "dialect": "postgres",
  "id": "5113869e-5235-43fe-94e2-870f22083d5f",
  "prevIds": [
    "00000000-0000-0000-0000-000000000000"
  ],
  "ddl": [
    {
      "isRlsEnabled": false,
      "name": "files",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "folders",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "users",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": {
        "type": "always",
        "name": "files_id_seq",
        "increment": "1",
        "startWith": "1",
        "minValue": "1",
        "maxValue": "2147483647",
        "cache": 1,
        "cycle": false
      },
      "name": "id",
      "entityType": "columns",
      "schema": "public",
      "table": "files"
    },
    {
      "type": "varchar(255)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "name",
      "entityType": "columns",
      "schema": "public",
      "table": "files"
    },
    {
      "type": "varchar",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "s3url",
      "entityType": "columns",
      "schema": "public",
      "table": "files"
    },
    {
      "type": "varchar",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "s3key",
      "entityType": "columns",
      "schema": "public",
      "table": "files"
    },
    {
      "type": "varchar",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "path",
      "entityType": "columns",
      "schema": "public",
      "table": "files"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "folder_id",
      "entityType": "columns",
      "schema": "public",
      "table": "files"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "user_id",
      "entityType": "columns",
      "schema": "public",
      "table": "files"
    },
    {
      "type": "vector(512)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "embedding",
      "entityType": "columns",
      "schema": "public",
      "table": "files"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": {
        "type": "always",
        "name": "folders_id_seq",
        "increment": "1",
        "startWith": "1",
        "minValue": "1",
        "maxValue": "2147483647",
        "cache": 1,
        "cycle": false
      },
      "name": "id",
      "entityType": "columns",
      "schema": "public",
      "table": "folders"
    },
    {
      "type": "varchar(255)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "name",
      "entityType": "columns",
      "schema": "public",
      "table": "folders"
    },
    {
      "type": "varchar",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "path",
      "entityType": "columns",
      "schema": "public",
      "table": "folders"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "user_id",
      "entityType": "columns",
      "schema": "public",
      "table": "folders"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "parent_folder",
      "entityType": "columns",
      "schema": "public",
      "table": "folders"
    },
    {
      "type": "varchar",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "ancestors_ids",
      "entityType": "columns",
      "schema": "public",
      "table": "folders"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": {
        "type": "always",
        "name": "users_id_seq",
        "increment": "1",
        "startWith": "1",
        "minValue": "1",
        "maxValue": "2147483647",
        "cache": 1,
        "cycle": false
      },
      "name": "id",
      "entityType": "columns",
      "schema": "public",
      "table": "users"
    },
    {
      "type": "varchar(255)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "name",
      "entityType": "columns",
      "schema": "public",
      "table": "users"
    },
    {
      "type": "varchar(255)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "email",
      "entityType": "columns",
      "schema": "public",
      "table": "users"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "root_folder_id",
      "entityType": "columns",
      "schema": "public",
      "table": "users"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "files_pkey",
      "schema": "public",
      "table": "files",
      "entityType": "pks"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "folders_pkey",
      "schema": "public",
      "table": "folders",
      "entityType": "pks"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "users_pkey",
      "schema": "public",
      "table": "users",
      "entityType": "pks"
    },
    {
      "nameExplicit": false,
      "columns": [
        "email"
      ],
      "nullsNotDistinct": false,
      "name": "users_email_key",
      "schema": "public",
      "table": "users",
      "entityType": "uniques"
    }
  ],
  "renames": []
}